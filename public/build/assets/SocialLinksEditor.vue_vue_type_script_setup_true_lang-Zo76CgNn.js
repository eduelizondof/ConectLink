import{d as N,r as w,z as j,b as E,L as G,M as I,e as m,j as a,f as o,v,k,t as p,w as r,m as c,g as s,F as $,q as C,l as i,y as R,n as q,x as S,s as D,K as L}from"./vendor-DpV1RDRk.js";import{u as Y}from"./useSwal-DOVGsU6a.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-Zajsiemi.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-DMiqHnJp.js";import{_ as b}from"./index-CkkXSBcG.js";import{_ as K}from"./Checkbox.vue_vue_type_script_setup_true_lang-BM0OPkfR.js";import{_ as O,a as H,b as J,c as Q}from"./DialogTitle.vue_vue_type_script_setup_true_lang-B0vJ7lsg.js";import{P as W}from"./plus-7CCSheGl.js";import{G as M}from"./globe-D8Ez73g9.js";import{L as A}from"./link-2-BVfCELK_.js";import{P as X,S as Z,M as ee,G as se,Y as te,L as ae,T as oe,I as le,F as re}from"./youtube-BnTnMgvA.js";import{M as ie}from"./mail-D1wBsh0k.js";import{T as ne}from"./trash-2-BTGpoolh.js";const de={class:"rounded-xl border bg-card p-6 space-y-4"},me={class:"flex items-center justify-between"},ce={class:"text-sm text-muted-foreground"},ue={key:0,class:"space-y-2"},fe={class:"flex-1 min-w-0"},pe={class:"font-medium truncate"},ge={class:"text-xs text-muted-foreground truncate"},ve={class:"flex items-center gap-2"},be={key:1,class:"text-center py-8 text-muted-foreground"},_e={class:"space-y-2"},xe={class:"grid grid-cols-4 gap-2"},ye=["onClick"],he={class:"text-[10px] truncate w-full text-center"},we={class:"space-y-2"},ke={class:"space-y-2"},$e={class:"flex justify-end gap-3 pt-2"},Ee=N({__name:"SocialLinksEditor",props:{profile:{},platforms:{},maxLinks:{}},setup(d){const g=d,x=Y(),u=w(!1),y=w(!1),l=j({platform:"",url:"",label:""}),U=E(()=>(g.profile.social_links?.length||0)<g.maxLinks);G(async()=>{y.value=!0,u.value=!1,await I()});const z={facebook:re,instagram:le,twitter:oe,linkedin:ae,youtube:te,github:se,whatsapp:ee,telegram:Z,website:M,email:ie,phone:X,other:A};function h(n){return z[n]||A}function P(){l.reset(),u.value=!0}function T(){l.post(`/admin/profiles/${g.profile.id}/social-links`,{preserveScroll:!0,onSuccess:()=>{u.value=!1,x.success("Â¡Red social agregada!")}})}async function B(n){await x.confirmDelete(n.label||g.platforms[n.platform]?.label)&&L.delete(`/admin/social-links/${n.id}`,{preserveScroll:!0})}function F(n){L.put(`/admin/social-links/${n.id}`,{...n,is_active:!n.is_active},{preserveScroll:!0})}return(n,e)=>(i(),m("div",de,[a("div",me,[a("div",null,[e[4]||(e[4]=a("h3",{class:"font-semibold"},"Redes Sociales",-1)),a("p",ce,p(d.profile.social_links?.length||0)+"/"+p(d.maxLinks)+" redes ",1)]),U.value?(i(),v(s(b),{key:0,size:"sm",onClick:P,class:"gap-1"},{default:r(()=>[o(s(W),{class:"h-4 w-4"}),e[5]||(e[5]=c(" Agregar ",-1))]),_:1})):k("",!0)]),d.profile.social_links?.length?(i(),m("div",ue,[(i(!0),m($,null,C(d.profile.social_links,t=>(i(),m("div",{key:t.id,class:"flex items-center gap-3 rounded-lg border p-3 transition-all hover:bg-muted/50"},[a("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg",style:D({backgroundColor:d.platforms[t.platform]?.color||"#6b7280"})},[(i(),v(S(h(t.platform)),{class:"h-5 w-5 text-white"}))],4),a("div",fe,[a("p",pe,p(t.label||d.platforms[t.platform]?.label||t.platform),1),a("p",ge,p(t.url),1)]),a("div",ve,[o(s(K),{checked:t.is_active,"onUpdate:checked":f=>F(t)},null,8,["checked","onUpdate:checked"]),o(s(b),{size:"icon",variant:"ghost",onClick:f=>B(t)},{default:r(()=>[o(s(ne),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])])]))),128))])):(i(),m("div",be,[o(s(M),{class:"h-12 w-12 mx-auto mb-3 opacity-50"}),e[6]||(e[6]=a("p",null,"No hay redes sociales configuradas",-1))])),o(s(Q),{open:u.value,"onUpdate:open":e[3]||(e[3]=t=>u.value=t),modal:!0},{default:r(()=>[y.value?k("",!0):(i(),v(s(O),{key:0,class:"max-w-md"},{default:r(()=>[o(s(H),null,{default:r(()=>[o(s(J),null,{default:r(()=>[...e[7]||(e[7]=[c("Agregar Red Social",-1)])]),_:1})]),_:1}),a("form",{onSubmit:R(T,["prevent"]),class:"space-y-4"},[a("div",_e,[o(s(_),null,{default:r(()=>[...e[8]||(e[8]=[c("Plataforma *",-1)])]),_:1}),a("div",xe,[(i(!0),m($,null,C(d.platforms,(t,f)=>(i(),m("button",{key:f,type:"button",class:q(["flex flex-col items-center gap-1 rounded-lg border p-3 transition-all",s(l).platform===f?"border-primary bg-primary/5":"hover:bg-muted"]),onClick:Ce=>s(l).platform=f},[(i(),v(S(h(f)),{class:"h-5 w-5"})),a("span",he,p(t.label),1)],10,ye))),128))])]),a("div",we,[o(s(_),{for:"social-url"},{default:r(()=>[...e[9]||(e[9]=[c("URL / Enlace *",-1)])]),_:1}),o(s(V),{id:"social-url",modelValue:s(l).url,"onUpdate:modelValue":e[0]||(e[0]=t=>s(l).url=t),placeholder:s(l).platform==="whatsapp"?"https://wa.me/521...":"https://...",required:""},null,8,["modelValue","placeholder"])]),a("div",ke,[o(s(_),{for:"social-label"},{default:r(()=>[...e[10]||(e[10]=[c("Etiqueta personalizada",-1)])]),_:1}),o(s(V),{id:"social-label",modelValue:s(l).label,"onUpdate:modelValue":e[1]||(e[1]=t=>s(l).label=t),placeholder:"Opcional"},null,8,["modelValue"])]),a("div",$e,[o(s(b),{type:"button",variant:"outline",onClick:e[2]||(e[2]=t=>u.value=!1)},{default:r(()=>[...e[11]||(e[11]=[c(" Cancelar ",-1)])]),_:1}),o(s(b),{type:"submit",disabled:s(l).processing||!s(l).platform},{default:r(()=>[...e[12]||(e[12]=[c(" Agregar ",-1)])]),_:1},8,["disabled"])])],32)]),_:1}))]),_:1},8,["open"])]))}});export{Ee as _};
