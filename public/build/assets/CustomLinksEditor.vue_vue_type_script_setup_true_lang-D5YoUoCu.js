import{d as T,r as $,A as j,c as F,L as P,M as q,e as m,k as l,f as o,x as v,l as p,t as f,j as a,p as d,g as e,F as E,s as H,m as n,z as K,n as C,v as Q,K as x}from"./vendor-DvujMfno.js";import{u as R}from"./useSwal-DOVGsU6a.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-DLAx-lS1.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-CVm8O6Ku.js";import{_}from"./index-B2djCZPx.js";import{_ as L}from"./Checkbox.vue_vue_type_script_setup_true_lang-DG0naM3E.js";import{_ as U}from"./ColorPicker.vue_vue_type_script_setup_true_lang-C7FfhOma.js";import{_ as G,a as I,b as J,c as O}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Cdo311c9.js";import{P as W}from"./plus-CCPJT_Vh.js";import{L as S}from"./link-2-BRcjvYam.js";import{S as b}from"./star-mum83Dhg.js";import{T as X}from"./trash-2-BF1stzR1.js";const Y={class:"rounded-xl border bg-card p-6 space-y-4"},Z={class:"flex items-center justify-between"},ee={class:"text-sm text-muted-foreground"},te={key:0,class:"space-y-2"},se={class:"flex-1 min-w-0"},oe={class:"flex items-center gap-2"},le={class:"font-medium truncate"},ie={key:0,class:"text-xs text-muted-foreground truncate"},ae={class:"text-xs text-muted-foreground truncate"},re={class:"flex items-center gap-2"},ne=["onClick","title"],de={key:1,class:"text-center py-8 text-muted-foreground"},ue={class:"space-y-2"},me={class:"space-y-2"},ce={class:"space-y-2"},fe={class:"grid gap-4 sm:grid-cols-2"},pe={class:"flex items-center gap-3"},ge={class:"flex justify-end gap-3 pt-2"},Ue=T({__name:"CustomLinksEditor",props:{profile:{},maxLinks:{}},setup(c){const h=c,y=R(),u=$(!1),V=$(!1),i=j({title:"",url:"",description:"",button_color:"",text_color:"",is_highlighted:!1}),A=F(()=>(h.profile.custom_links?.length||0)<h.maxLinks);P(async()=>{V.value=!0,u.value=!1,await q()});function z(){i.reset(),u.value=!0}function B(){i.post(`/admin/profiles/${h.profile.id}/custom-links`,{preserveScroll:!0,onSuccess:()=>{u.value=!1,y.success("Â¡Link agregado!")}})}async function D(r){await y.confirmDelete(r.title)&&x.delete(`/admin/custom-links/${r.id}`,{preserveScroll:!0})}function M(r){x.put(`/admin/custom-links/${r.id}`,{...r,is_active:!r.is_active},{preserveScroll:!0})}function N(r){x.put(`/admin/custom-links/${r.id}`,{...r,is_highlighted:!r.is_highlighted},{preserveScroll:!0})}return(r,t)=>(n(),m("div",Y,[l("div",Z,[l("div",null,[t[8]||(t[8]=l("h3",{class:"font-semibold"},"Links Personalizados",-1)),l("p",ee,f(c.profile.custom_links?.length||0)+"/"+f(c.maxLinks)+" links ",1)]),A.value?(n(),v(e(_),{key:0,size:"sm",onClick:z,class:"gap-1"},{default:a(()=>[o(e(W),{class:"h-4 w-4"}),t[9]||(t[9]=d(" Agregar ",-1))]),_:1})):p("",!0)]),c.profile.custom_links?.length?(n(),m("div",te,[(n(!0),m(E,null,H(c.profile.custom_links,s=>(n(),m("div",{key:s.id,class:C(["flex items-center gap-3 rounded-lg border p-3 transition-all hover:bg-muted/50",{"ring-2 ring-amber-400":s.is_highlighted}])},[l("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg",style:Q({backgroundColor:s.button_color||"#3b82f6"})},[o(e(S),{class:"h-5 w-5 text-white"})],4),l("div",se,[l("div",oe,[l("p",le,f(s.title),1),s.is_highlighted?(n(),v(e(b),{key:0,class:"h-4 w-4 text-amber-500 fill-amber-500"})):p("",!0)]),s.description?(n(),m("p",ie,f(s.description),1)):p("",!0),l("p",ae,f(s.url),1)]),l("div",re,[l("button",{onClick:w=>N(s),class:"p-2 rounded-lg hover:bg-muted",title:s.is_highlighted?"Quitar destacado":"Destacar"},[o(e(b),{class:C(["h-4 w-4",s.is_highlighted?"text-amber-500 fill-amber-500":"text-muted-foreground"])},null,8,["class"])],8,ne),o(e(L),{checked:s.is_active,"onUpdate:checked":w=>M(s)},null,8,["checked","onUpdate:checked"]),o(e(_),{size:"icon",variant:"ghost",onClick:w=>D(s)},{default:a(()=>[o(e(X),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])])],2))),128))])):(n(),m("div",de,[o(e(S),{class:"h-12 w-12 mx-auto mb-3 opacity-50"}),t[10]||(t[10]=l("p",null,"No hay links personalizados",-1))])),o(e(O),{open:u.value,"onUpdate:open":t[7]||(t[7]=s=>u.value=s),modal:!0},{default:a(()=>[V.value?p("",!0):(n(),v(e(G),{key:0,class:"max-w-md"},{default:a(()=>[o(e(I),null,{default:a(()=>[o(e(J),null,{default:a(()=>[...t[11]||(t[11]=[d("Agregar Link",-1)])]),_:1})]),_:1}),l("form",{onSubmit:K(B,["prevent"]),class:"space-y-4"},[l("div",ue,[o(e(g),{for:"link-title"},{default:a(()=>[...t[12]||(t[12]=[d("TÃ­tulo *",-1)])]),_:1}),o(e(k),{id:"link-title",modelValue:e(i).title,"onUpdate:modelValue":t[0]||(t[0]=s=>e(i).title=s),placeholder:"ðŸ“¦ Ver mi catÃ¡logo",required:""},null,8,["modelValue"])]),l("div",me,[o(e(g),{for:"link-url"},{default:a(()=>[...t[13]||(t[13]=[d("URL *",-1)])]),_:1}),o(e(k),{id:"link-url",modelValue:e(i).url,"onUpdate:modelValue":t[1]||(t[1]=s=>e(i).url=s),placeholder:"https://...",required:""},null,8,["modelValue"])]),l("div",ce,[o(e(g),{for:"link-description"},{default:a(()=>[...t[14]||(t[14]=[d("DescripciÃ³n",-1)])]),_:1}),o(e(k),{id:"link-description",modelValue:e(i).description,"onUpdate:modelValue":t[2]||(t[2]=s=>e(i).description=s),placeholder:"Breve descripciÃ³n..."},null,8,["modelValue"])]),l("div",fe,[o(e(U),{modelValue:e(i).button_color,"onUpdate:modelValue":t[3]||(t[3]=s=>e(i).button_color=s),label:"Color del botÃ³n"},null,8,["modelValue"]),o(e(U),{modelValue:e(i).text_color,"onUpdate:modelValue":t[4]||(t[4]=s=>e(i).text_color=s),label:"Color del texto"},null,8,["modelValue"])]),l("div",pe,[o(e(L),{id:"link-highlighted",checked:e(i).is_highlighted,"onUpdate:checked":t[5]||(t[5]=s=>e(i).is_highlighted=s)},null,8,["checked"]),o(e(g),{for:"link-highlighted",class:"cursor-pointer flex items-center gap-2"},{default:a(()=>[o(e(b),{class:"h-4 w-4 text-amber-500"}),t[15]||(t[15]=d(" Destacar este link ",-1))]),_:1})]),l("div",ge,[o(e(_),{type:"button",variant:"outline",onClick:t[6]||(t[6]=s=>u.value=!1)},{default:a(()=>[...t[16]||(t[16]=[d(" Cancelar ",-1)])]),_:1}),o(e(_),{type:"submit",disabled:e(i).processing},{default:a(()=>[...t[17]||(t[17]=[d(" Agregar ",-1)])]),_:1},8,["disabled"])])],32)]),_:1}))]),_:1},8,["open"])]))}});export{Ue as _};
