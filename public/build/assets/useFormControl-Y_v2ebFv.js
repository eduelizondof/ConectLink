import{b as f,_ as $,P as y}from"./vendor-eHrDt6OH.js";function l(t){return typeof t=="string"?`'${t}'`:new h().serialize(t)}const h=(function(){class t{#r=new Map;compare(r,e){const n=typeof r,s=typeof e;return n==="string"&&s==="string"?r.localeCompare(e):n==="number"&&s==="number"?r-e:String.prototype.localeCompare.call(this.serialize(r,!0),this.serialize(e,!0))}serialize(r,e){if(r===null)return"null";switch(typeof r){case"string":return e?r:`'${r}'`;case"bigint":return`${r}n`;case"object":return this.$object(r);case"function":return this.$function(r)}return String(r)}serializeObject(r){const e=Object.prototype.toString.call(r);if(e!=="[object Object]")return this.serializeBuiltInType(e.length<10?`unknown:${e}`:e.slice(8,-1),r);const n=r.constructor,s=n===Object||n===void 0?"":n.name;if(s!==""&&globalThis[s]===n)return this.serializeBuiltInType(s,r);if(typeof r.toJSON=="function"){const o=r.toJSON();return s+(o!==null&&typeof o=="object"?this.$object(o):`(${this.serialize(o)})`)}return this.serializeObjectEntries(s,Object.entries(r))}serializeBuiltInType(r,e){const n=this["$"+r];if(n)return n.call(this,e);if(typeof e?.entries=="function")return this.serializeObjectEntries(r,e.entries());throw new Error(`Cannot serialize ${r}`)}serializeObjectEntries(r,e){const n=Array.from(e).sort((o,a)=>this.compare(o[0],a[0]));let s=`${r}{`;for(let o=0;o<n.length;o++){const[a,c]=n[o];s+=`${this.serialize(a,!0)}:${this.serialize(c)}`,o<n.length-1&&(s+=",")}return s+"}"}$object(r){let e=this.#r.get(r);return e===void 0&&(this.#r.set(r,`#${this.#r.size}`),e=this.serializeObject(r),this.#r.set(r,e)),e}$function(r){const e=Function.prototype.toString.call(r);return e.slice(-15)==="[native code] }"?`${r.name||""}()[native]`:`${r.name}(${r.length})${e.replace(/\s*\n\s*/g,"")}`}$Array(r){let e="[";for(let n=0;n<r.length;n++)e+=this.serialize(r[n]),n<r.length-1&&(e+=",");return e+"]"}$Date(r){try{return`Date(${r.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(r){return`ArrayBuffer[${new Uint8Array(r).join(",")}]`}$Set(r){return`Set${this.$Array(Array.from(r).sort((e,n)=>this.compare(e,n)))}`}$Map(r){return this.serializeObjectEntries("Map",r.entries())}}for(const i of["Error","RegExp","URL"])t.prototype["$"+i]=function(r){return`${i}(${r})`};for(const i of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+i]=function(r){return`${i}[${r.join(",")}]`};for(const i of["BigInt64Array","BigUint64Array"])t.prototype["$"+i]=function(r){return`${i}[${r.join("n,")}${r.length>0?"n":""}]`};return t})();function u(t,i){return t===i||l(t)===l(i)}function p(t){return t==null}function m(t,i){return p(t)?!1:Array.isArray(t)?t.some(r=>u(r,i)):u(t,i)}function z(t){return f(()=>$(t)?!!y(t)?.closest("form"):!0)}export{m as a,p as b,u as i,z as u};
