import{P as Y,c as F}from"./index-aHHv8Tf2.js";import{c as Z,u as de,a as me}from"./VisuallyHidden-DI7LxRb7.js";import{c as ee}from"./clamp-BstbYvQo.js";import{u as fe}from"./useFormControl-KH8CXA8R.js";import{u as I}from"./useForwardExpose-CraSWOVP.js";import{u as W}from"./Collection-DW7XR1O_.js";import{V as ve}from"./VisuallyHiddenInput-Cn8eJrYO.js";import{d as B,J as j,r as M,c,x,m as E,j as V,K as R,v as G,g as e,I as pe,y as ce,M as N,l as ye,Q as ge,R as be,o as Se,S as he,f as X,e as we,n as U,F as _e,s as Ce}from"./vendor-CwJ9eRpz.js";import{u as De}from"./useSize-DPlu3iF4.js";function Ee(o=[],a,t){const n=[...o];return n[t]=a,n.sort((u,d)=>u-d)}function te(o,a,t){const d=100/(t-a)*(o-a);return ee(d,0,100)}function xe(o,a){return a>2?`Value ${o+1} of ${a}`:a===2?["Minimum","Maximum"][o]:void 0}function Ve(o,a){if(o.length===1)return 0;const t=o.map(u=>Math.abs(u-a)),n=Math.min(...t);return t.indexOf(n)}function Ke(o,a,t){const n=o/2,d=J([0,50],[0,n]);return(n-d(a)*t)*t}function qe(o){return o.slice(0,-1).map((a,t)=>o[t+1]-a)}function Be(o,a){if(a>0){const t=qe(o);return Math.min(...t)>=a}return!0}function J(o,a){return t=>{if(o[0]===o[1]||a[0]===a[1])return a[0];const n=(a[1]-a[0])/(o[1]-o[0]);return a[0]+n*(t-o[0])}}function Pe(o){return(String(o).split(".")[1]||"").length}function Re(o,a){const t=10**a;return Math.round(o*t)/t}const ae=["PageUp","PageDown"],ne=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],le={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageUp","ArrowUp","ArrowLeft"]},[oe,re]=Z(["SliderVertical","SliderHorizontal"]);var Ae=B({__name:"SliderHorizontal",props:{dir:{type:String,required:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(o,{emit:a}){const t=o,n=a,{max:u,min:d,dir:i,inverted:l}=j(t),{forwardRef:y,currentElement:f}=I(),h=$(),_=M(),w=M(),C=c(()=>i?.value!=="rtl"&&!l.value||i?.value!=="ltr"&&l.value);function g(s,r){const m=w.value||f.value.getBoundingClientRect(),S=[...h.thumbElements.value][h.valueIndexToChangeRef.value],P=h.thumbAlignment.value==="contain"?S.clientWidth:0;!_.value&&!r&&h.thumbAlignment.value==="contain"&&(_.value=s.clientX-S.getBoundingClientRect().left);const z=[0,m.width-P],q=C.value?[d.value,u.value]:[u.value,d.value],k=J(z,q);w.value=m;const v=r?s.clientX-m.left-P/2:s.clientX-m.left-(_.value??0);return k(v)}const K=c(()=>C.value?"left":"right"),T=c(()=>C.value?"right":"left"),b=c(()=>C.value?1:-1);return re({startEdge:K,endEdge:T,direction:b,size:"width"}),(s,r)=>(E(),x(ie,{ref:e(y),dir:e(i),"data-orientation":"horizontal",style:G({"--reka-slider-thumb-transform":!C.value&&e(h).thumbAlignment.value==="overflow"?"translateX(50%)":"translateX(-50%)"}),onSlideStart:r[0]||(r[0]=m=>{const S=g(m,!0);n("slideStart",S)}),onSlideMove:r[1]||(r[1]=m=>{const S=g(m);n("slideMove",S)}),onSlideEnd:r[2]||(r[2]=()=>{w.value=void 0,_.value=void 0,n("slideEnd")}),onStepKeyDown:r[3]||(r[3]=m=>{const S=C.value?"from-left":"from-right",P=e(le)[S].includes(m.key);n("stepKeyDown",m,P?-1:1)}),onEndKeyDown:r[4]||(r[4]=m=>n("endKeyDown",m)),onHomeKeyDown:r[5]||(r[5]=m=>n("homeKeyDown",m))},{default:V(()=>[R(s.$slots,"default")]),_:3},8,["dir","style"]))}}),Me=Ae,Ie=B({__name:"SliderVertical",props:{min:{type:Number,required:!0},max:{type:Number,required:!0},inverted:{type:Boolean,required:!0}},emits:["slideEnd","slideStart","slideMove","homeKeyDown","endKeyDown","stepKeyDown"],setup(o,{emit:a}){const t=o,n=a,{max:u,min:d,inverted:i}=j(t),l=$(),{forwardRef:y,currentElement:f}=I(),h=M(),_=M(),w=c(()=>!i.value);function C(b,s){const r=_.value||f.value.getBoundingClientRect(),m=[...l.thumbElements.value][l.valueIndexToChangeRef.value],S=l.thumbAlignment.value==="contain"?m.clientHeight:0;!h.value&&!s&&l.thumbAlignment.value==="contain"&&(h.value=b.clientY-m.getBoundingClientRect().top);const P=[0,r.height-S],z=w.value?[u.value,d.value]:[d.value,u.value],q=J(P,z),k=s?b.clientY-r.top-S/2:b.clientY-r.top-(h.value??0);return _.value=r,q(k)}const g=c(()=>w.value?"bottom":"top"),K=c(()=>w.value?"top":"bottom"),T=c(()=>w.value?1:-1);return re({startEdge:g,endEdge:K,direction:T,size:"height"}),(b,s)=>(E(),x(ie,{ref:e(y),"data-orientation":"vertical",style:G({"--reka-slider-thumb-transform":!w.value&&e(l).thumbAlignment.value==="overflow"?"translateY(-50%)":"translateY(50%)"}),onSlideStart:s[0]||(s[0]=r=>{const m=C(r,!0);n("slideStart",m)}),onSlideMove:s[1]||(s[1]=r=>{const m=C(r);n("slideMove",m)}),onSlideEnd:s[2]||(s[2]=()=>{_.value=void 0,h.value=void 0,n("slideEnd")}),onStepKeyDown:s[3]||(s[3]=r=>{const m=w.value?"from-bottom":"from-top",S=e(le)[m].includes(r.key);n("stepKeyDown",r,S?-1:1)}),onEndKeyDown:s[4]||(s[4]=r=>n("endKeyDown",r)),onHomeKeyDown:s[5]||(s[5]=r=>n("homeKeyDown",r))},{default:V(()=>[R(b.$slots,"default")]),_:3},8,["style"]))}}),ke=Ie;const[$,$e]=Z("SliderRoot");var Te=B({inheritAttrs:!1,__name:"SliderRoot",props:{defaultValue:{type:Array,required:!1,default:()=>[0]},modelValue:{type:[Array,null],required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},inverted:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},minStepsBetweenThumbs:{type:Number,required:!1,default:0},thumbAlignment:{type:String,required:!1,default:"contain"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","valueCommit"],setup(o,{emit:a}){const t=o,n=a,{min:u,max:d,step:i,minStepsBetweenThumbs:l,orientation:y,disabled:f,thumbAlignment:h,dir:_}=j(t),w=de(_),{forwardRef:C,currentElement:g}=I(),K=fe(g),{CollectionSlot:T}=W({isProvider:!0}),b=pe(t,"modelValue",n,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),s=c(()=>Array.isArray(b.value)?[...b.value]:[]),r=M(0),m=M(s.value);function S(v){const p=Ve(s.value,v);q(v,p)}function P(v){q(v,r.value)}function z(){const v=m.value[r.value];s.value[r.value]!==v&&n("valueCommit",ge(s.value))}function q(v,p,{commit:D}={commit:!1}){const L=Pe(i.value),Q=Re(Math.round((v-u.value)/i.value)*i.value+u.value,L),O=ee(Q,u.value,d.value),A=Ee(s.value,O,p);if(Be(A,l.value*i.value)){r.value=A.indexOf(O);const H=String(A)!==String(b.value);H&&D&&n("valueCommit",A),H&&(k.value[r.value]?.focus(),b.value=A)}}const k=M([]);return $e({modelValue:b,currentModelValue:s,valueIndexToChangeRef:r,thumbElements:k,orientation:y,min:u,max:d,disabled:f,thumbAlignment:h}),(v,p)=>(E(),x(e(T),null,{default:V(()=>[(E(),x(ce(e(y)==="horizontal"?Me:ke),N(v.$attrs,{ref:e(C),"as-child":v.asChild,as:v.as,min:e(u),max:e(d),dir:e(w),inverted:v.inverted,"aria-disabled":e(f),"data-disabled":e(f)?"":void 0,onPointerdown:p[0]||(p[0]=()=>{e(f)||(m.value=s.value)}),onSlideStart:p[1]||(p[1]=D=>!e(f)&&S(D)),onSlideMove:p[2]||(p[2]=D=>!e(f)&&P(D)),onSlideEnd:p[3]||(p[3]=D=>!e(f)&&z()),onHomeKeyDown:p[4]||(p[4]=D=>!e(f)&&q(e(u),0,{commit:!0})),onEndKeyDown:p[5]||(p[5]=D=>!e(f)&&q(e(d),s.value.length-1,{commit:!0})),onStepKeyDown:p[6]||(p[6]=(D,L)=>{if(!e(f)){const A=e(ae).includes(D.key)||D.shiftKey&&e(ne).includes(D.key)?10:1,H=r.value,se=s.value[H],ue=e(i)*A*L;q(se+ue,H,{commit:!0})}})}),{default:V(()=>[R(v.$slots,"default",{modelValue:e(b)}),e(K)&&v.name?(E(),x(e(ve),{key:0,type:"number",value:e(b),name:v.name,required:v.required,disabled:e(f),step:e(i)},null,8,["value","name","required","disabled","step"])):ye("v-if",!0)]),_:3},16,["as-child","as","min","max","dir","inverted","aria-disabled","data-disabled"]))]),_:3}))}}),ze=Te,He=B({__name:"SliderImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},emits:["slideStart","slideMove","slideEnd","homeKeyDown","endKeyDown","stepKeyDown"],setup(o,{emit:a}){const t=o,n=a,u=$();return(d,i)=>(E(),x(e(Y),N({"data-slider-impl":""},t,{onKeydown:i[0]||(i[0]=l=>{l.key==="Home"?(n("homeKeyDown",l),l.preventDefault()):l.key==="End"?(n("endKeyDown",l),l.preventDefault()):e(ae).concat(e(ne)).includes(l.key)&&(n("stepKeyDown",l),l.preventDefault())}),onPointerdown:i[1]||(i[1]=l=>{const y=l.target;y.setPointerCapture(l.pointerId),l.preventDefault(),e(u).thumbElements.value.includes(y)?y.focus():n("slideStart",l)}),onPointermove:i[2]||(i[2]=l=>{l.target.hasPointerCapture(l.pointerId)&&n("slideMove",l)}),onPointerup:i[3]||(i[3]=l=>{const y=l.target;y.hasPointerCapture(l.pointerId)&&(y.releasePointerCapture(l.pointerId),n("slideEnd",l))})}),{default:V(()=>[R(d.$slots,"default")]),_:3},16))}}),ie=He,Ne=B({__name:"SliderRange",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(o){const a=$(),t=oe();I();const n=c(()=>a.currentModelValue.value.map(i=>te(i,a.min.value,a.max.value))),u=c(()=>a.currentModelValue.value.length>1?Math.min(...n.value):0),d=c(()=>100-Math.max(...n.value,0));return(i,l)=>(E(),x(e(Y),{"data-disabled":e(a).disabled.value?"":void 0,"data-orientation":e(a).orientation.value,"as-child":i.asChild,as:i.as,style:G({[e(t).startEdge.value]:`${u.value}%`,[e(t).endEdge.value]:`${d.value}%`})},{default:V(()=>[R(i.$slots,"default")]),_:3},8,["data-disabled","data-orientation","as-child","as","style"]))}}),Fe=Ne,Ye=B({inheritAttrs:!1,__name:"SliderThumbImpl",props:{index:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const a=o,t=$(),n=oe(),{forwardRef:u,currentElement:d}=I(),{CollectionItem:i}=W(),l=c(()=>t.modelValue?.value?.[a.index]),y=c(()=>l.value===void 0?0:te(l.value,t.min.value??0,t.max.value??100)),f=c(()=>xe(a.index,t.modelValue?.value?.length??0)),h=De(d),_=c(()=>h[n.size].value),w=c(()=>t.thumbAlignment.value==="overflow"||!_.value?0:Ke(_.value,y.value,n.direction.value)),C=be();return Se(()=>{t.thumbElements.value.push(d.value)}),he(()=>{const g=t.thumbElements.value.findIndex(K=>K===d.value)??-1;t.thumbElements.value.splice(g,1)}),(g,K)=>(E(),x(e(i),null,{default:V(()=>[X(e(Y),N(g.$attrs,{ref:e(u),role:"slider",tabindex:e(t).disabled.value?void 0:0,"aria-label":g.$attrs["aria-label"]||f.value,"data-disabled":e(t).disabled.value?"":void 0,"data-orientation":e(t).orientation.value,"aria-valuenow":l.value,"aria-valuemin":e(t).min.value,"aria-valuemax":e(t).max.value,"aria-orientation":e(t).orientation.value,"as-child":g.asChild,as:g.as,style:{transform:"var(--reka-slider-thumb-transform)",position:"absolute",[e(n).startEdge.value]:`calc(${y.value}% + ${w.value}px)`,display:!e(C)&&l.value===void 0?"none":void 0},onFocus:K[0]||(K[0]=()=>{e(t).valueIndexToChangeRef.value=g.index})}),{default:V(()=>[R(g.$slots,"default")]),_:3},16,["tabindex","aria-label","data-disabled","data-orientation","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","as-child","as","style"])]),_:3}))}}),Le=Ye,Oe=B({__name:"SliderThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(o){const a=o,{getItems:t}=W(),{forwardRef:n,currentElement:u}=I(),d=c(()=>u.value?t(!0).findIndex(i=>i.ref===u.value):-1);return(i,l)=>(E(),x(Le,N({ref:e(n)},a,{index:d.value}),{default:V(()=>[R(i.$slots,"default")]),_:3},16,["index"]))}}),Ue=Oe,Xe=B({__name:"SliderTrack",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(o){const a=$();return I(),(t,n)=>(E(),x(e(Y),{"as-child":t.asChild,as:t.as,"data-disabled":e(a).disabled.value?"":void 0,"data-orientation":e(a).orientation.value},{default:V(()=>[R(t.$slots,"default")]),_:3},8,["as-child","as","data-disabled","data-orientation"]))}}),We=Xe;const lt=B({__name:"Slider",props:{defaultValue:{},modelValue:{},disabled:{type:Boolean},orientation:{default:"horizontal"},dir:{},inverted:{type:Boolean},min:{},max:{},step:{},minStepsBetweenThumbs:{},thumbAlignment:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue","valueCommit"],setup(o,{emit:a}){const t=o,n=a,u=c(()=>{const{class:i,...l}=t;return l}),d=me(u,n);return(i,l)=>(E(),x(e(ze),N(e(d),{class:e(F)("relative flex w-full touch-none select-none items-center",t.orientation==="vertical"&&"flex-col h-full w-auto",t.class)}),{default:V(()=>[X(e(We),{class:U(e(F)("relative grow overflow-hidden rounded-full bg-primary/20",t.orientation==="horizontal"?"h-1.5 w-full":"w-1.5 h-full"))},{default:V(()=>[X(e(Fe),{class:U(e(F)("absolute bg-primary",t.orientation==="horizontal"?"h-full":"w-full"))},null,8,["class"])]),_:1},8,["class"]),(E(!0),we(_e,null,Ce(t.modelValue??[t.defaultValue??0],(y,f)=>(E(),x(e(Ue),{key:f,class:U(e(F)("block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring","disabled:pointer-events-none disabled:opacity-50"))},null,8,["class"]))),128))]),_:1},16,["class"]))}});export{lt as _};
