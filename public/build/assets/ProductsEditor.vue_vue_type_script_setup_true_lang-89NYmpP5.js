import{d as D,J as be,I as Ee,r as z,x as h,j as o,K as E,g as t,m as n,c as U,o as Ie,f as a,v as Re,l as x,N as Le,z as O,M as te,H as Oe,D as Ge,A as G,e as u,k as l,t as S,p as r,F,s as A,n as H,B as L,E as ve,C as Y,G as N}from"./vendor-CwJ9eRpz.js";import{u as He}from"./useSwal-DOVGsU6a.js";import{_ as Xe}from"./ImageUpload.vue_vue_type_script_setup_true_lang-BCuO3NCY.js";import{_ as T}from"./Input.vue_vue_type_script_setup_true_lang-BOJ85c3X.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-DTGu4m7n.js";import{P as se,c as ae,_}from"./index-aHHv8Tf2.js";import{R as Ke,_ as ee}from"./Checkbox.vue_vue_type_script_setup_true_lang-DtZyXLcU.js";import{_ as X,a as K,b as W,c as J}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C18qZcbt.js";import{c as We,u as Je,a as Qe}from"./VisuallyHidden-DI7LxRb7.js";import{u as oe}from"./useForwardExpose-CraSWOVP.js";import{u as Ye,P as Ze}from"./Presence-DPRxqr4Y.js";import{R as et}from"./RovingFocusGroup-Bg8F_nie.js";import{T as tt}from"./tag-C7WvpRuP.js";import{L as ne}from"./layout-grid-xuEGYM1Q.js";import{P as re}from"./plus-ggKBdC47.js";import{P as Z}from"./package-DtOv7Zct.js";import{P as de}from"./pencil-GOH_MpO7.js";import{T as ue}from"./trash-2-CHHS8M2q.js";import{S as st}from"./star-BtP3YK3B.js";import{c as at}from"./createLucideIcon-ColtdVoX.js";const[ce,ot]=We("TabsRoot");var lt=D({__name:"TabsRoot",props:{defaultValue:{type:null,required:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},activationMode:{type:String,required:!1,default:"automatic"},modelValue:{type:null,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(m,{emit:p}){const f=m,c=p,{orientation:g,unmountOnHide:V,dir:y}=be(f),v=Je(y);oe();const k=Ee(f,"modelValue",c,{defaultValue:f.defaultValue,passive:f.modelValue===void 0}),$=z();return ot({modelValue:k,changeModelValue:w=>{k.value=w},orientation:g,dir:v,unmountOnHide:V,activationMode:f.activationMode,baseId:Ye(void 0,"reka-tabs"),tabsList:$}),(w,Q)=>(n(),h(t(se),{dir:t(v),"data-orientation":t(g),"as-child":w.asChild,as:w.as},{default:o(()=>[E(w.$slots,"default",{modelValue:t(k)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),it=lt;function _e(m,p){return`${m}-trigger-${p}`}function xe(m,p){return`${m}-content-${p}`}var nt=D({__name:"TabsContent",props:{value:{type:[String,Number],required:!0},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(m){const p=m,{forwardRef:f}=oe(),c=ce(),g=U(()=>_e(c.baseId,p.value)),V=U(()=>xe(c.baseId,p.value)),y=U(()=>p.value===c.modelValue.value),v=z(y.value);return Ie(()=>{requestAnimationFrame(()=>{v.value=!1})}),(k,$)=>(n(),h(t(Ze),{present:k.forceMount||y.value,"force-mount":""},{default:o(({present:w})=>[a(t(se),{id:V.value,ref:t(f),"as-child":k.asChild,as:k.as,role:"tabpanel","data-state":y.value?"active":"inactive","data-orientation":t(c).orientation.value,"aria-labelledby":g.value,hidden:!w,tabindex:"0",style:Re({animationDuration:v.value?"0s":void 0})},{default:o(()=>[!t(c).unmountOnHide.value||w?E(k.$slots,"default",{key:0}):x("v-if",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),rt=nt,dt=D({__name:"TabsList",props:{loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(m){const p=m,{loop:f}=be(p),{forwardRef:c,currentElement:g}=oe(),V=ce();return V.tabsList=g,(y,v)=>(n(),h(t(et),{"as-child":"",orientation:t(V).orientation.value,dir:t(V).dir.value,loop:t(f)},{default:o(()=>[a(t(se),{ref:t(c),role:"tablist","as-child":y.asChild,as:y.as,"aria-orientation":t(V).orientation.value},{default:o(()=>[E(y.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),ut=dt,ct=D({__name:"TabsTrigger",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(m){const p=m,{forwardRef:f}=oe(),c=ce(),g=U(()=>_e(c.baseId,p.value)),V=U(()=>xe(c.baseId,p.value)),y=U(()=>p.value===c.modelValue.value);return(v,k)=>(n(),h(t(Ke),{"as-child":"",focusable:!v.disabled,active:y.value},{default:o(()=>[a(t(se),{id:g.value,ref:t(f),role:"tab",type:v.as==="button"?"button":void 0,as:v.as,"as-child":v.asChild,"aria-selected":y.value?"true":"false","aria-controls":V.value,"data-state":y.value?"active":"inactive",disabled:v.disabled,"data-disabled":v.disabled?"":void 0,"data-orientation":t(c).orientation.value,onMousedown:k[0]||(k[0]=O($=>{!v.disabled&&$.ctrlKey===!1?t(c).changeModelValue(v.value):$.preventDefault()},["left"])),onKeydown:k[1]||(k[1]=Le($=>t(c).changeModelValue(v.value),["enter","space"])),onFocus:k[2]||(k[2]=()=>{const $=t(c).activationMode!=="manual";!y.value&&!v.disabled&&$&&t(c).changeModelValue(v.value)})},{default:o(()=>[E(v.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),pt=ct;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=at("Settings2Icon",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]),mt=D({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(m,{emit:p}){const f=m,c=p,g=U(()=>{const{class:y,...v}=f;return v}),V=Qe(g,c);return(y,v)=>(n(),h(t(it),te(t(V),{class:t(ae)("",f.class)}),{default:o(()=>[E(y.$slots,"default")]),_:3},16,["class"]))}}),vt=D({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(m){const p=m,f=U(()=>{const{class:c,...g}=p;return g});return(c,g)=>(n(),h(t(ut),te(f.value,{class:t(ae)("inline-flex h-10 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",p.class)}),{default:o(()=>[E(c.$slots,"default")]),_:3},16,["class"]))}}),ge=D({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(m){const p=m,f=U(()=>{const{class:c,...g}=p;return g});return(c,g)=>(n(),h(t(pt),te(f.value,{class:t(ae)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",p.class)}),{default:o(()=>[E(c.$slots,"default")]),_:3},16,["class"]))}}),ye=D({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(m){const p=m,f=U(()=>{const{class:c,...g}=p;return g});return(c,g)=>(n(),h(t(rt),te(f.value,{class:t(ae)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",p.class)}),{default:o(()=>[E(c.$slots,"default")]),_:3},16,["class"]))}}),gt={class:"space-y-6"},yt={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},bt={class:"text-sm text-muted-foreground"},_t={class:"flex flex-wrap gap-2"},xt={key:0,class:"ml-1 rounded-full bg-muted px-1.5 py-0.5 text-xs"},kt={key:0,class:"flex flex-wrap gap-2 mb-4"},wt=["onClick"],Ct=["onClick"],St={key:1,class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},Vt={class:"aspect-square bg-muted relative overflow-hidden"},ht=["src","alt"],$t={key:1,class:"h-full w-full flex items-center justify-center"},Mt={class:"absolute top-2 left-2 flex gap-1"},Pt={key:0,class:"rounded-full bg-amber-500 px-2 py-0.5 text-[10px] font-medium text-white"},zt={key:1,class:"rounded-full bg-red-500 px-2 py-0.5 text-[10px] font-medium text-white"},Ut={class:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity"},Tt={class:"p-4"},qt={class:"flex items-start justify-between gap-2"},Nt={class:"min-w-0"},Dt={class:"font-semibold truncate"},Bt={key:0,class:"text-xs text-muted-foreground"},jt={key:0,class:"mt-2 flex flex-wrap gap-1"},Ft={key:1,class:"mt-2 flex items-center gap-2"},At={key:0,class:"font-bold text-primary"},Et={class:"mt-3 flex items-center justify-between"},It={class:"flex items-center gap-1"},Rt={key:2,class:"text-center py-16 text-muted-foreground"},Lt={class:"space-y-4"},Ot={key:0,class:"space-y-4"},Gt={class:"flex items-center justify-between mb-3"},Ht={class:"font-semibold"},Xt={key:0,class:"text-sm text-muted-foreground"},Kt={class:"flex items-center gap-2"},Wt={key:0,class:"flex flex-wrap gap-2"},Jt={class:"h-8 w-8 rounded overflow-hidden bg-muted"},Qt=["src","alt"],Yt={class:"text-sm font-medium"},Zt={key:1,class:"text-sm text-muted-foreground italic"},es={key:1,class:"text-center py-16 text-muted-foreground"},ts={class:"grid gap-4 sm:grid-cols-2"},ss={class:"space-y-2 sm:col-span-2"},as={class:"space-y-2"},os=["value"],ls={class:"space-y-2"},is={class:"space-y-2"},ns={class:"space-y-2"},rs={class:"space-y-2"},ds={class:"space-y-2"},us={class:"space-y-2"},cs={key:0,class:"space-y-2"},ps={class:"flex flex-wrap gap-2"},fs=["onClick"],ms={class:"flex flex-wrap gap-4"},vs={class:"flex items-center gap-2"},gs={class:"flex items-center gap-2"},ys={class:"flex justify-end gap-3 pt-2"},bs={class:"space-y-2"},_s={class:"space-y-2"},xs={class:"flex justify-end gap-3 pt-2"},ks={class:"space-y-2"},ws={class:"space-y-2"},Cs={class:"space-y-2"},Ss={class:"flex items-center gap-2"},Vs={class:"flex justify-end gap-3 pt-2"},hs={class:"space-y-2"},$s={class:"space-y-2"},Ms={class:"flex justify-end gap-3 pt-2"},Ps={class:"space-y-2"},zs={class:"space-y-2"},Us={class:"space-y-2"},Ts={class:"flex items-center gap-2"},qs={class:"flex justify-end gap-3 pt-2"},Ns={class:"space-y-2 max-h-[400px] overflow-y-auto"},Ds=["onClick"],Bs={class:"h-12 w-12 rounded-lg overflow-hidden bg-muted flex-shrink-0"},js=["src","alt"],Fs={class:"flex-1 text-left min-w-0"},As={class:"font-medium truncate"},Es={key:0,class:"text-sm text-muted-foreground"},Is={key:0,class:"h-full w-full text-white p-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Rs={class:"flex justify-end gap-3 pt-2"},da=D({__name:"ProductsEditor",props:{organization:{},limits:{}},setup(m){const p=m,f=He(),c=z(!1),g=z(!1),V=z(!1),y=z(!1),v=z(!1),k=z(!1),$=z(!1),w=z(null),Q=z(null),B=z(null),pe=z("products"),I=U(()=>{const i=p.organization?.productSections||p.organization?.product_sections;return i?Array.isArray(i)?i:[]:[]}),ke=U(()=>(p.organization.products?.length??0)<p.limits.max_products),we=U(()=>I.value.length<(p.limits.max_sections??10));Oe(async()=>{$.value=!0,c.value=!1,g.value=!1,V.value=!1,y.value=!1,v.value=!1,k.value=!1,await Ge()});const d=G({name:"",slug:"",category_id:null,short_description:"",description:"",price:void 0,sale_price:void 0,currency:"MXN",image:null,whatsapp_message:"",is_featured:!1,is_available:!0,section_ids:[]}),R=G({name:"",description:""}),M=G({name:"",slug:"",description:"",is_active:!0}),j=G({title:"",description:""}),P=G({title:"",slug:"",description:"",is_active:!0}),q=G({product_ids:[]});function fe(){w.value=null,d.reset(),d.currency="MXN",d.is_available=!0,d.section_ids=[],c.value=!0}function Ce(i){w.value=i,d.name=i.name,d.slug=i.slug||"",d.category_id=i.category_id,d.short_description=i.short_description||"",d.description=i.description||"",d.price=i.price,d.sale_price=i.sale_price,d.currency=i.currency||"MXN",d.image=null,d.whatsapp_message=i.whatsapp_message||"",d.is_featured=i.is_featured,d.is_available=i.is_available,d.section_ids=i.sections?.map(e=>e.id)||[],c.value=!0}function Se(){Q.value=null,R.reset(),g.value=!0}function Ve(i){Q.value=i,M.name=i.name,M.slug=i.slug||"",M.description=i.description||"",M.is_active=i.is_active??!0,V.value=!0}function me(){B.value=null,j.reset(),y.value=!0}function he(i){B.value=i,P.title=i.title,P.slug=i.slug||"",P.description=i.description||"",P.is_active=i.is_active??!0,v.value=!0}function $e(i){B.value=i,q.product_ids=i.products?.map(e=>e.id)||[],k.value=!0}function Me(){w.value?d.transform(i=>({...i,_method:"PUT"})).post(`/admin/products/${w.value.id}`,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{w.value&&N.put(`/admin/products/${w.value.id}/sections`,{section_ids:d.section_ids},{preserveScroll:!0,onSuccess:()=>{c.value=!1,w.value=null,f.success("¡Producto actualizado!")}})}}):d.post(`/admin/organizations/${p.organization.id}/products`,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{c.value=!1,f.success("¡Producto creado!")}})}function Pe(){R.post(`/admin/organizations/${p.organization.id}/categories`,{preserveScroll:!0,onSuccess:()=>{g.value=!1,f.success("¡Categoría creada!")}})}function ze(){M.put(`/admin/categories/${Q.value.id}`,{preserveScroll:!0,onSuccess:()=>{V.value=!1,Q.value=null,f.success("¡Categoría actualizada!")}})}function Ue(){j.post(`/admin/organizations/${p.organization.id}/sections`,{preserveScroll:!0,onSuccess:()=>{y.value=!1,j.reset(),f.success("¡Sección creada!"),N.reload({only:["organization"]})}})}function Te(){P.put(`/admin/sections/${B.value.id}`,{preserveScroll:!0,onSuccess:()=>{v.value=!1,B.value=null,f.success("¡Sección actualizada!"),N.reload({only:["organization"]})}})}function qe(){q.post(`/admin/sections/${B.value.id}/products`,{preserveScroll:!0,onSuccess:()=>{k.value=!1,B.value=null,f.success("¡Productos asignados!"),N.reload({only:["organization"]})}})}async function Ne(i){await f.confirmDelete(i.name)&&N.delete(`/admin/products/${i.id}`,{preserveScroll:!0})}async function De(i){await f.confirmDelete(i.name)&&N.delete(`/admin/categories/${i.id}`,{preserveScroll:!0})}async function Be(i){await f.confirmDelete(i.title)&&N.delete(`/admin/sections/${i.id}`,{preserveScroll:!0,onSuccess:()=>{N.reload({only:["organization"]})}})}function je(i){N.put(`/admin/products/${i.id}`,{...i,is_featured:!i.is_featured},{preserveScroll:!0})}function le(i,e){return new Intl.NumberFormat("es-MX",{style:"currency",currency:e}).format(i)}function ie(i){return i.image?i.image.startsWith("http")||i.image.startsWith("/storage/")?i.image:`/storage/${i.image}`:null}function Fe(i){const e=q.product_ids.indexOf(i);e>-1?q.product_ids.splice(e,1):q.product_ids.push(i)}function Ae(i){const e=d.section_ids.indexOf(i);e>-1?d.section_ids.splice(e,1):d.section_ids.push(i)}return(i,e)=>(n(),u("div",gt,[l("div",yt,[l("div",null,[e[37]||(e[37]=l("h2",{class:"text-lg font-semibold"},"Catálogo de Productos",-1)),l("p",bt,S(m.organization.products?.length??0)+"/"+S(m.limits.max_products)+" productos ",1)]),l("div",_t,[a(t(_),{variant:"outline",onClick:Se,class:"gap-1"},{default:o(()=>[a(t(tt),{class:"h-4 w-4"}),e[38]||(e[38]=r(" Nueva Categoría ",-1))]),_:1}),we.value?(n(),h(t(_),{key:0,variant:"outline",onClick:me,class:"gap-1"},{default:o(()=>[a(t(ne),{class:"h-4 w-4"}),e[39]||(e[39]=r(" Nueva Sección ",-1))]),_:1})):x("",!0),ke.value?(n(),h(t(_),{key:1,onClick:fe,class:"gap-1"},{default:o(()=>[a(t(re),{class:"h-4 w-4"}),e[40]||(e[40]=r(" Nuevo Producto ",-1))]),_:1})):x("",!0)])]),a(t(mt),{modelValue:pe.value,"onUpdate:modelValue":e[1]||(e[1]=s=>pe.value=s),class:"space-y-4"},{default:o(()=>[a(t(vt),null,{default:o(()=>[a(t(ge),{value:"products",class:"gap-2"},{default:o(()=>[a(t(Z),{class:"h-4 w-4"}),e[41]||(e[41]=r(" Productos ",-1))]),_:1}),a(t(ge),{value:"sections",class:"gap-2"},{default:o(()=>[a(t(ne),{class:"h-4 w-4"}),e[42]||(e[42]=r(" Secciones ",-1)),I.value.length>0?(n(),u("span",xt,S(I.value.length),1)):x("",!0)]),_:1})]),_:1}),a(t(ye),{value:"products"},{default:o(()=>[m.organization.productCategories?.length?(n(),u("div",kt,[(n(!0),u(F,null,A(m.organization.productCategories,s=>(n(),u("div",{key:s.id,class:"flex items-center gap-2 rounded-full border bg-muted px-3 py-1 text-sm"},[l("span",null,S(s.name),1),l("button",{onClick:C=>Ve(s),class:"text-muted-foreground hover:text-primary"},[a(t(de),{class:"h-3 w-3"})],8,wt),l("button",{onClick:C=>De(s),class:"text-muted-foreground hover:text-destructive"},[a(t(ue),{class:"h-3 w-3"})],8,Ct)]))),128))])):x("",!0),m.organization.products?.length?(n(),u("div",St,[(n(!0),u(F,null,A(m.organization.products,s=>(n(),u("div",{key:s.id,class:"group rounded-xl border bg-card overflow-hidden transition-all hover:shadow-md"},[l("div",Vt,[s.image?(n(),u("img",{key:0,src:ie(s),alt:s.name,class:"h-full w-full object-cover",onError:e[0]||(e[0]=C=>{C.target.style.display="none"})},null,40,ht)):x("",!0),s.image?x("",!0):(n(),u("div",$t,[a(t(Z),{class:"h-16 w-16 text-muted-foreground/30"})])),l("div",Mt,[s.is_featured?(n(),u("span",Pt," Destacado ")):x("",!0),s.sale_price?(n(),u("span",zt," Oferta ")):x("",!0)]),l("div",Ut,[a(t(_),{size:"icon",variant:"secondary",class:"h-8 w-8",onClick:C=>je(s)},{default:o(()=>[a(t(st),{class:H(["h-4 w-4",s.is_featured?"text-amber-500 fill-amber-500":""])},null,8,["class"])]),_:2},1032,["onClick"])])]),l("div",Tt,[l("div",qt,[l("div",Nt,[l("h3",Dt,S(s.name),1),s.category?(n(),u("p",Bt,S(s.category.name),1)):x("",!0)])]),s.sections?.length?(n(),u("div",jt,[(n(!0),u(F,null,A(s.sections,C=>(n(),u("span",{key:C.id,class:"rounded-full bg-primary/10 px-2 py-0.5 text-[10px] font-medium text-primary"},S(C.title),1))),128))])):x("",!0),s.price?(n(),u("div",Ft,[s.sale_price?(n(),u("span",At,S(le(s.sale_price,s.currency)),1)):x("",!0),l("span",{class:H(s.sale_price?"text-sm line-through text-muted-foreground":"font-bold text-primary")},S(le(s.price,s.currency)),3)])):x("",!0),l("div",Et,[l("span",{class:H(["rounded-full px-2 py-0.5 text-xs font-medium",s.is_available?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"])},S(s.is_available?"Disponible":"No disponible"),3),l("div",It,[a(t(_),{size:"icon",variant:"ghost",onClick:C=>Ce(s)},{default:o(()=>[a(t(de),{class:"h-4 w-4 text-muted-foreground"})]),_:1},8,["onClick"]),a(t(_),{size:"icon",variant:"ghost",onClick:C=>Ne(s)},{default:o(()=>[a(t(ue),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])])])])]))),128))])):(n(),u("div",Rt,[a(t(Z),{class:"h-16 w-16 mx-auto mb-4 opacity-50"}),e[44]||(e[44]=l("h3",{class:"text-lg font-medium"},"No hay productos",-1)),e[45]||(e[45]=l("p",{class:"mt-1"},"Agrega productos a tu catálogo para mostrarlos en tu perfil.",-1)),a(t(_),{onClick:fe,class:"mt-4 gap-2"},{default:o(()=>[a(t(re),{class:"h-4 w-4"}),e[43]||(e[43]=r(" Agregar Producto ",-1))]),_:1})]))]),_:1}),a(t(ye),{value:"sections"},{default:o(()=>[l("div",Lt,[e[50]||(e[50]=l("p",{class:"text-sm text-muted-foreground"},' Las secciones te permiten agrupar productos con un título personalizable. Por ejemplo: "Lo más preguntado", "Mis productos", "Ofertas especiales". ',-1)),I.value.length>0?(n(),u("div",Ot,[(n(!0),u(F,null,A(I.value,s=>(n(),u("div",{key:s.id,class:"rounded-xl border bg-card p-4"},[l("div",Gt,[l("div",null,[l("h3",Ht,S(s.title),1),s.description?(n(),u("p",Xt,S(s.description),1)):x("",!0)]),l("div",Kt,[a(t(_),{size:"sm",variant:"outline",onClick:C=>$e(s),class:"gap-1"},{default:o(()=>[a(t(ft),{class:"h-4 w-4"}),e[46]||(e[46]=r(" Productos ",-1))]),_:1},8,["onClick"]),a(t(_),{size:"icon",variant:"ghost",onClick:C=>he(s)},{default:o(()=>[a(t(de),{class:"h-4 w-4 text-muted-foreground"})]),_:1},8,["onClick"]),a(t(_),{size:"icon",variant:"ghost",onClick:C=>Be(s)},{default:o(()=>[a(t(ue),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])])]),s.products?.length?(n(),u("div",Wt,[(n(!0),u(F,null,A(s.products,C=>(n(),u("div",{key:C.id,class:"flex items-center gap-2 rounded-lg border bg-muted/50 px-3 py-2"},[l("div",Jt,[C.image?(n(),u("img",{key:0,src:ie(C),alt:C.name,class:"h-full w-full object-cover"},null,8,Qt)):(n(),h(t(Z),{key:1,class:"h-full w-full p-1 text-muted-foreground/30"}))]),l("span",Yt,S(C.name),1)]))),128))])):(n(),u("p",Zt," No hay productos en esta sección "))]))),128))])):(n(),u("div",es,[a(t(ne),{class:"h-16 w-16 mx-auto mb-4 opacity-50"}),e[48]||(e[48]=l("h3",{class:"text-lg font-medium"},"No hay secciones",-1)),e[49]||(e[49]=l("p",{class:"mt-1"},"Crea secciones para organizar tus productos con títulos personalizados.",-1)),a(t(_),{onClick:me,class:"mt-4 gap-2"},{default:o(()=>[a(t(re),{class:"h-4 w-4"}),e[47]||(e[47]=r(" Crear Sección ",-1))]),_:1})]))])]),_:1})]),_:1},8,["modelValue"]),a(t(J),{open:c.value,"onUpdate:open":e[14]||(e[14]=s=>c.value=s),modal:!0},{default:o(()=>[$.value?x("",!0):(n(),h(t(X),{key:0,class:"max-w-lg max-h-[90vh] overflow-y-auto"},{default:o(()=>[a(t(K),null,{default:o(()=>[a(t(W),null,{default:o(()=>[r(S(w.value?"Editar Producto":"Nuevo Producto"),1)]),_:1})]),_:1}),l("form",{onSubmit:O(Me,["prevent"]),class:"space-y-4"},[a(t(Xe),{modelValue:t(d).image,"onUpdate:modelValue":e[2]||(e[2]=s=>t(d).image=s),"current-image":w.value?.image,label:"Imagen","aspect-ratio":"square","max-size":2},null,8,["modelValue","current-image"]),l("div",ts,[l("div",ss,[a(t(b),{for:"product-name"},{default:o(()=>[...e[51]||(e[51]=[r("Nombre *",-1)])]),_:1}),a(t(T),{id:"product-name",modelValue:t(d).name,"onUpdate:modelValue":e[3]||(e[3]=s=>t(d).name=s),required:""},null,8,["modelValue"])]),l("div",as,[a(t(b),{for:"product-category"},{default:o(()=>[...e[52]||(e[52]=[r("Categoría",-1)])]),_:1}),L(l("select",{id:"product-category","onUpdate:modelValue":e[4]||(e[4]=s=>t(d).category_id=s),class:"w-full rounded-lg border bg-background px-3 py-2 text-sm"},[e[53]||(e[53]=l("option",{value:null},"Sin categoría",-1)),(n(!0),u(F,null,A(m.organization.productCategories,s=>(n(),u("option",{key:s.id,value:s.id},S(s.name),9,os))),128))],512),[[ve,t(d).category_id]])]),l("div",ls,[a(t(b),{for:"product-currency"},{default:o(()=>[...e[54]||(e[54]=[r("Moneda",-1)])]),_:1}),L(l("select",{id:"product-currency","onUpdate:modelValue":e[5]||(e[5]=s=>t(d).currency=s),class:"w-full rounded-lg border bg-background px-3 py-2 text-sm"},[...e[55]||(e[55]=[l("option",{value:"MXN"},"MXN (Pesos)",-1),l("option",{value:"USD"},"USD (Dólares)",-1)])],512),[[ve,t(d).currency]])]),l("div",is,[a(t(b),{for:"product-price"},{default:o(()=>[...e[56]||(e[56]=[r("Precio",-1)])]),_:1}),a(t(T),{id:"product-price",modelValue:t(d).price,"onUpdate:modelValue":e[6]||(e[6]=s=>t(d).price=s),modelModifiers:{number:!0},type:"number",step:"0.01",min:"0"},null,8,["modelValue"])]),l("div",ns,[a(t(b),{for:"product-sale_price"},{default:o(()=>[...e[57]||(e[57]=[r("Precio de oferta",-1)])]),_:1}),a(t(T),{id:"product-sale_price",modelValue:t(d).sale_price,"onUpdate:modelValue":e[7]||(e[7]=s=>t(d).sale_price=s),modelModifiers:{number:!0},type:"number",step:"0.01",min:"0"},null,8,["modelValue"])])]),l("div",rs,[a(t(b),{for:"product-short_description"},{default:o(()=>[...e[58]||(e[58]=[r("Descripción corta",-1)])]),_:1}),a(t(T),{id:"product-short_description",modelValue:t(d).short_description,"onUpdate:modelValue":e[8]||(e[8]=s=>t(d).short_description=s),maxlength:"200"},null,8,["modelValue"])]),l("div",ds,[a(t(b),{for:"product-description"},{default:o(()=>[...e[59]||(e[59]=[r("Descripción completa",-1)])]),_:1}),L(l("textarea",{id:"product-description","onUpdate:modelValue":e[9]||(e[9]=s=>t(d).description=s),rows:"3",class:"w-full rounded-lg border bg-background px-4 py-3 text-sm"},null,512),[[Y,t(d).description]])]),l("div",us,[a(t(b),{for:"product-whatsapp"},{default:o(()=>[...e[60]||(e[60]=[r("Mensaje de WhatsApp",-1)])]),_:1}),a(t(T),{id:"product-whatsapp",modelValue:t(d).whatsapp_message,"onUpdate:modelValue":e[10]||(e[10]=s=>t(d).whatsapp_message=s),placeholder:"Hola, me interesa..."},null,8,["modelValue"])]),I.value.length>0&&w.value?(n(),u("div",cs,[a(t(b),null,{default:o(()=>[...e[61]||(e[61]=[r("Secciones",-1)])]),_:1}),l("div",ps,[(n(!0),u(F,null,A(I.value,s=>(n(),u("button",{key:s.id,type:"button",class:H(["rounded-full px-3 py-1 text-sm transition-colors",t(d).section_ids.includes(s.id)?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"]),onClick:C=>Ae(s.id)},S(s.title),11,fs))),128))])])):x("",!0),l("div",ms,[l("div",vs,[a(t(ee),{id:"product-featured",checked:t(d).is_featured,"onUpdate:checked":e[11]||(e[11]=s=>t(d).is_featured=s)},null,8,["checked"]),a(t(b),{for:"product-featured",class:"cursor-pointer"},{default:o(()=>[...e[62]||(e[62]=[r("Destacado",-1)])]),_:1})]),l("div",gs,[a(t(ee),{id:"product-available",checked:t(d).is_available,"onUpdate:checked":e[12]||(e[12]=s=>t(d).is_available=s)},null,8,["checked"]),a(t(b),{for:"product-available",class:"cursor-pointer"},{default:o(()=>[...e[63]||(e[63]=[r("Disponible",-1)])]),_:1})])]),l("div",ys,[a(t(_),{type:"button",variant:"outline",onClick:e[13]||(e[13]=s=>c.value=!1)},{default:o(()=>[...e[64]||(e[64]=[r(" Cancelar ",-1)])]),_:1}),a(t(_),{type:"submit",disabled:t(d).processing},{default:o(()=>[r(S(w.value?"Guardar Cambios":"Crear Producto"),1)]),_:1},8,["disabled"])])],32)]),_:1}))]),_:1},8,["open"]),a(t(J),{open:g.value,"onUpdate:open":e[18]||(e[18]=s=>g.value=s),modal:!0},{default:o(()=>[$.value?x("",!0):(n(),h(t(X),{key:0,class:"max-w-sm"},{default:o(()=>[a(t(K),null,{default:o(()=>[a(t(W),null,{default:o(()=>[...e[65]||(e[65]=[r("Nueva Categoría",-1)])]),_:1})]),_:1}),l("form",{onSubmit:O(Pe,["prevent"]),class:"space-y-4"},[l("div",bs,[a(t(b),{for:"category-name"},{default:o(()=>[...e[66]||(e[66]=[r("Nombre *",-1)])]),_:1}),a(t(T),{id:"category-name",modelValue:t(R).name,"onUpdate:modelValue":e[15]||(e[15]=s=>t(R).name=s),required:""},null,8,["modelValue"])]),l("div",_s,[a(t(b),{for:"category-description"},{default:o(()=>[...e[67]||(e[67]=[r("Descripción",-1)])]),_:1}),L(l("textarea",{id:"category-description","onUpdate:modelValue":e[16]||(e[16]=s=>t(R).description=s),rows:"2",class:"w-full rounded-lg border bg-background px-4 py-3 text-sm"},null,512),[[Y,t(R).description]])]),l("div",xs,[a(t(_),{type:"button",variant:"outline",onClick:e[17]||(e[17]=s=>g.value=!1)},{default:o(()=>[...e[68]||(e[68]=[r(" Cancelar ",-1)])]),_:1}),a(t(_),{type:"submit",disabled:t(R).processing},{default:o(()=>[...e[69]||(e[69]=[r(" Crear ",-1)])]),_:1},8,["disabled"])])],32)]),_:1}))]),_:1},8,["open"]),a(t(J),{open:V.value,"onUpdate:open":e[24]||(e[24]=s=>V.value=s),modal:!0},{default:o(()=>[$.value?x("",!0):(n(),h(t(X),{key:0,class:"max-w-sm"},{default:o(()=>[a(t(K),null,{default:o(()=>[a(t(W),null,{default:o(()=>[...e[70]||(e[70]=[r("Editar Categoría",-1)])]),_:1})]),_:1}),l("form",{onSubmit:O(ze,["prevent"]),class:"space-y-4"},[l("div",ks,[a(t(b),{for:"edit-category-name"},{default:o(()=>[...e[71]||(e[71]=[r("Nombre *",-1)])]),_:1}),a(t(T),{id:"edit-category-name",modelValue:t(M).name,"onUpdate:modelValue":e[19]||(e[19]=s=>t(M).name=s),required:""},null,8,["modelValue"])]),l("div",ws,[a(t(b),{for:"edit-category-slug"},{default:o(()=>[...e[72]||(e[72]=[r("Slug",-1)])]),_:1}),a(t(T),{id:"edit-category-slug",modelValue:t(M).slug,"onUpdate:modelValue":e[20]||(e[20]=s=>t(M).slug=s)},null,8,["modelValue"])]),l("div",Cs,[a(t(b),{for:"edit-category-description"},{default:o(()=>[...e[73]||(e[73]=[r("Descripción",-1)])]),_:1}),L(l("textarea",{id:"edit-category-description","onUpdate:modelValue":e[21]||(e[21]=s=>t(M).description=s),rows:"2",class:"w-full rounded-lg border bg-background px-4 py-3 text-sm"},null,512),[[Y,t(M).description]])]),l("div",Ss,[a(t(ee),{id:"edit-category-active",checked:t(M).is_active,"onUpdate:checked":e[22]||(e[22]=s=>t(M).is_active=s)},null,8,["checked"]),a(t(b),{for:"edit-category-active",class:"cursor-pointer"},{default:o(()=>[...e[74]||(e[74]=[r("Activa",-1)])]),_:1})]),l("div",Vs,[a(t(_),{type:"button",variant:"outline",onClick:e[23]||(e[23]=s=>V.value=!1)},{default:o(()=>[...e[75]||(e[75]=[r(" Cancelar ",-1)])]),_:1}),a(t(_),{type:"submit",disabled:t(M).processing},{default:o(()=>[...e[76]||(e[76]=[r(" Guardar ",-1)])]),_:1},8,["disabled"])])],32)]),_:1}))]),_:1},8,["open"]),a(t(J),{open:y.value,"onUpdate:open":e[28]||(e[28]=s=>y.value=s),modal:!0},{default:o(()=>[$.value?x("",!0):(n(),h(t(X),{key:0,class:"max-w-sm"},{default:o(()=>[a(t(K),null,{default:o(()=>[a(t(W),null,{default:o(()=>[...e[77]||(e[77]=[r("Nueva Sección",-1)])]),_:1})]),_:1}),l("form",{onSubmit:O(Ue,["prevent"]),class:"space-y-4"},[l("div",hs,[a(t(b),{for:"section-title"},{default:o(()=>[...e[78]||(e[78]=[r("Título *",-1)])]),_:1}),a(t(T),{id:"section-title",modelValue:t(j).title,"onUpdate:modelValue":e[25]||(e[25]=s=>t(j).title=s),placeholder:"Ej: Lo más preguntado, Mis productos...",required:""},null,8,["modelValue"])]),l("div",$s,[a(t(b),{for:"section-description"},{default:o(()=>[...e[79]||(e[79]=[r("Descripción",-1)])]),_:1}),L(l("textarea",{id:"section-description","onUpdate:modelValue":e[26]||(e[26]=s=>t(j).description=s),rows:"2",class:"w-full rounded-lg border bg-background px-4 py-3 text-sm"},null,512),[[Y,t(j).description]])]),l("div",Ms,[a(t(_),{type:"button",variant:"outline",onClick:e[27]||(e[27]=s=>y.value=!1)},{default:o(()=>[...e[80]||(e[80]=[r(" Cancelar ",-1)])]),_:1}),a(t(_),{type:"submit",disabled:t(j).processing},{default:o(()=>[...e[81]||(e[81]=[r(" Crear ",-1)])]),_:1},8,["disabled"])])],32)]),_:1}))]),_:1},8,["open"]),a(t(J),{open:v.value,"onUpdate:open":e[34]||(e[34]=s=>v.value=s),modal:!0},{default:o(()=>[$.value?x("",!0):(n(),h(t(X),{key:0,class:"max-w-sm"},{default:o(()=>[a(t(K),null,{default:o(()=>[a(t(W),null,{default:o(()=>[...e[82]||(e[82]=[r("Editar Sección",-1)])]),_:1})]),_:1}),l("form",{onSubmit:O(Te,["prevent"]),class:"space-y-4"},[l("div",Ps,[a(t(b),{for:"edit-section-title"},{default:o(()=>[...e[83]||(e[83]=[r("Título *",-1)])]),_:1}),a(t(T),{id:"edit-section-title",modelValue:t(P).title,"onUpdate:modelValue":e[29]||(e[29]=s=>t(P).title=s),required:""},null,8,["modelValue"])]),l("div",zs,[a(t(b),{for:"edit-section-slug"},{default:o(()=>[...e[84]||(e[84]=[r("Slug",-1)])]),_:1}),a(t(T),{id:"edit-section-slug",modelValue:t(P).slug,"onUpdate:modelValue":e[30]||(e[30]=s=>t(P).slug=s)},null,8,["modelValue"])]),l("div",Us,[a(t(b),{for:"edit-section-description"},{default:o(()=>[...e[85]||(e[85]=[r("Descripción",-1)])]),_:1}),L(l("textarea",{id:"edit-section-description","onUpdate:modelValue":e[31]||(e[31]=s=>t(P).description=s),rows:"2",class:"w-full rounded-lg border bg-background px-4 py-3 text-sm"},null,512),[[Y,t(P).description]])]),l("div",Ts,[a(t(ee),{id:"edit-section-active",checked:t(P).is_active,"onUpdate:checked":e[32]||(e[32]=s=>t(P).is_active=s)},null,8,["checked"]),a(t(b),{for:"edit-section-active",class:"cursor-pointer"},{default:o(()=>[...e[86]||(e[86]=[r("Activa",-1)])]),_:1})]),l("div",qs,[a(t(_),{type:"button",variant:"outline",onClick:e[33]||(e[33]=s=>v.value=!1)},{default:o(()=>[...e[87]||(e[87]=[r(" Cancelar ",-1)])]),_:1}),a(t(_),{type:"submit",disabled:t(P).processing},{default:o(()=>[...e[88]||(e[88]=[r(" Guardar ",-1)])]),_:1},8,["disabled"])])],32)]),_:1}))]),_:1},8,["open"]),a(t(J),{open:k.value,"onUpdate:open":e[36]||(e[36]=s=>k.value=s),modal:!0},{default:o(()=>[$.value?x("",!0):(n(),h(t(X),{key:0,class:"max-w-md max-h-[90vh] overflow-y-auto"},{default:o(()=>[a(t(K),null,{default:o(()=>[a(t(W),null,{default:o(()=>[r('Productos en "'+S(B.value?.title)+'"',1)]),_:1})]),_:1}),l("form",{onSubmit:O(qe,["prevent"]),class:"space-y-4"},[e[92]||(e[92]=l("p",{class:"text-sm text-muted-foreground"}," Selecciona los productos que quieres mostrar en esta sección. ",-1)),l("div",Ns,[(n(!0),u(F,null,A(m.organization.products,s=>(n(),u("button",{key:s.id,type:"button",class:H(["w-full flex items-center gap-3 p-3 rounded-lg border transition-colors",t(q).product_ids.includes(s.id)?"border-primary bg-primary/5":"hover:bg-muted/50"]),onClick:C=>Fe(s.id)},[l("div",Bs,[s.image?(n(),u("img",{key:0,src:ie(s),alt:s.name,class:"h-full w-full object-cover"},null,8,js)):(n(),h(t(Z),{key:1,class:"h-full w-full p-2 text-muted-foreground/30"}))]),l("div",Fs,[l("p",As,S(s.name),1),s.price?(n(),u("p",Es,S(le(s.price,s.currency)),1)):x("",!0)]),l("div",{class:H(["h-5 w-5 rounded-full border-2 flex-shrink-0",t(q).product_ids.includes(s.id)?"border-primary bg-primary":"border-muted-foreground/30"])},[t(q).product_ids.includes(s.id)?(n(),u("svg",Is,[...e[89]||(e[89]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"},null,-1)])])):x("",!0)],2)],10,Ds))),128))]),l("div",Rs,[a(t(_),{type:"button",variant:"outline",onClick:e[35]||(e[35]=s=>k.value=!1)},{default:o(()=>[...e[90]||(e[90]=[r(" Cancelar ",-1)])]),_:1}),a(t(_),{type:"submit",disabled:t(q).processing},{default:o(()=>[...e[91]||(e[91]=[r(" Guardar ",-1)])]),_:1},8,["disabled"])])],32)]),_:1}))]),_:1},8,["open"])]))}});export{mt as _,vt as a,ge as b,ye as c,da as d};
