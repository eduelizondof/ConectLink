import{d as f,o as N,x as b,j as s,K as x,M as g,g as t,m as p,e as h,n as V,aA as z,f as r,k as u,p as d,Z as D,u as F,i as H,l as Q,q as j,az as R,B as S,a2 as U}from"./vendor-CwJ9eRpz.js";import{q as E}from"./index-By14V8Wx.js";import{e as G,_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-BrY3Mbxo.js";import{s as M}from"./index-B9rLcTF-.js";import{a as P,_ as K}from"./Layout.vue_vue_type_script_setup_true_lang-XmCIG5MQ.js";import{_ as C}from"./InputError.vue_vue_type_script_setup_true_lang-br0eN0NL.js";import{P as O,c as Z,_ as v}from"./index-aHHv8Tf2.js";import{_ as J,a as W,b as X,c as Y}from"./DialogTitle.vue_vue_type_script_setup_true_lang-C18qZcbt.js";import{i as ee,d as te}from"./DialogTitle-BN7VPbnW.js";import{_ as re}from"./DialogDescription.vue_vue_type_script_setup_true_lang-C7GaPRR2.js";import{u as ae}from"./useForwardExpose-CraSWOVP.js";import{u as se}from"./Presence-DPRxqr4Y.js";import{_ as q}from"./Input.vue_vue_type_script_setup_true_lang-BOJ85c3X.js";import{_ as k}from"./Label.vue_vue_type_script_setup_true_lang-DTGu4m7n.js";import"./VisuallyHidden-DI7LxRb7.js";import"./PopperContent-BZm8OVWI.js";import"./getActiveElement-FUKBWQwh.js";import"./useSize-DPlu3iF4.js";import"./Teleport-DJyIM2_Y.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-Bg8F_nie.js";import"./Collection-DW7XR1O_.js";import"./createLucideIcon-ColtdVoX.js";import"./x-BzXzP8xs.js";import"./DialogDescription-BEVBDaXg.js";import"./layout-grid-xuEGYM1Q.js";import"./credit-card-mbP66do9.js";import"./chevron-right-CIYxK5Th.js";import"./index-4cw_lcsd.js";var oe=f({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,o=ee(),{forwardRef:a,currentElement:y}=ae();return o.contentId||=se(void 0,"reka-dialog-content"),N(()=>{o.triggerElement.value=y.value}),(l,_)=>(p(),b(t(O),g(n,{ref:t(a),type:l.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":t(o).open.value||!1,"aria-controls":t(o).open.value?t(o).contentId:void 0,"data-state":t(o).open.value?"open":"closed",onClick:t(o).onOpenToggle}),{default:s(()=>[x(l.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),le=oe;const ie=f({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(e){const n=e;return(o,a)=>(p(),b(t(te),g({"data-slot":"dialog-close"},n),{default:s(()=>[x(o.$slots,"default")]),_:3},16))}}),ne=f({__name:"DialogFooter",props:{class:{}},setup(e){const n=e;return(o,a)=>(p(),h("div",{"data-slot":"dialog-footer",class:V(t(Z)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n.class))},[x(o.$slots,"default")],2))}}),ue=f({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const n=e;return(o,a)=>(p(),b(t(le),g({"data-slot":"dialog-trigger"},n),{default:s(()=>[x(o.$slots,"default")]),_:3},16))}}),i=e=>({url:i.url(e),method:"get"});i.definition={methods:["get","head"],url:"/settings/profile"};i.url=e=>i.definition.url+E(e);i.get=e=>({url:i.url(e),method:"get"});i.head=e=>({url:i.url(e),method:"head"});const w=e=>({action:i.url(e),method:"get"});w.get=e=>({action:i.url(e),method:"get"});w.head=e=>({action:i.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});i.form=w;const m=e=>({url:m.url(e),method:"patch"});m.definition={methods:["patch"],url:"/settings/profile"};m.url=e=>m.definition.url+E(e);m.patch=e=>({url:m.url(e),method:"patch"});const T=e=>({action:m.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});T.patch=e=>({action:m.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});m.form=T;const c=e=>({url:c.url(e),method:"delete"});c.definition={methods:["delete"],url:"/settings/profile"};c.url=e=>c.definition.url+E(e);c.delete=e=>({url:c.url(e),method:"delete"});const B=e=>({action:c.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});B.delete=e=>({action:c.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});c.form=B;const I={edit:i,update:m,destroy:c},de={class:"space-y-6"},me={class:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10"},ce={class:"grid gap-2"},pe=f({__name:"DeleteUser",setup(e){const n=z("passwordInput");return(o,a)=>(p(),h("div",de,[r(P,{title:"Eliminar cuenta",description:"Elimina tu cuenta y todos sus recursos"}),u("div",me,[a[7]||(a[7]=u("div",{class:"relative space-y-0.5 text-red-600 dark:text-red-100"},[u("p",{class:"font-medium"},"Advertencia"),u("p",{class:"text-sm"}," Por favor, procede con precaución, esto no puede ser deshecho. ")],-1)),r(t(Y),null,{default:s(()=>[r(t(ue),{"as-child":""},{default:s(()=>[r(t(v),{variant:"destructive","data-test":"delete-user-button"},{default:s(()=>[...a[1]||(a[1]=[d("Eliminar cuenta",-1)])]),_:1})]),_:1}),r(t(J),null,{default:s(()=>[r(t(D),g(t(I).destroy.form(),{"reset-on-success":"",onError:a[0]||(a[0]=()=>n.value?.$el?.focus()),options:{preserveScroll:!0},class:"space-y-6"}),{default:s(({errors:y,processing:l,reset:_,clearErrors:$})=>[r(t(W),{class:"space-y-3"},{default:s(()=>[r(t(X),null,{default:s(()=>[...a[2]||(a[2]=[d("¿Estás seguro de querer eliminar tu cuenta?",-1)])]),_:1}),r(t(re),null,{default:s(()=>[...a[3]||(a[3]=[d(" Una vez que tu cuenta sea eliminada, todos sus recursos y datos también serán eliminados permanentemente. Por favor, ingresa tu contraseña para confirmar que deseas eliminar tu cuenta permanentemente. ",-1)])]),_:1})]),_:1}),u("div",ce,[r(t(k),{for:"password",class:"sr-only"},{default:s(()=>[...a[4]||(a[4]=[d("Contraseña",-1)])]),_:1}),r(t(q),{id:"password",type:"password",name:"password",ref_key:"passwordInput",ref:n,placeholder:"Contraseña"},null,512),r(C,{message:y.password},null,8,["message"])]),r(t(ne),{class:"gap-2"},{default:s(()=>[r(t(ie),{"as-child":""},{default:s(()=>[r(t(v),{variant:"secondary",onClick:()=>{$(),_()}},{default:s(()=>[...a[5]||(a[5]=[d(" Cancelar ",-1)])]),_:1},8,["onClick"])]),_:2},1024),r(t(v),{type:"submit",variant:"destructive",disabled:l,"data-test":"confirm-delete-user-button"},{default:s(()=>[...a[6]||(a[6]=[d(" Eliminar cuenta ",-1)])]),_:1},8,["disabled"])]),_:2},1024)]),_:1},16)]),_:1})]),_:1})])]))}}),fe={class:"flex flex-col space-y-6"},_e={class:"grid gap-2"},ge={class:"grid gap-2"},ye={key:0},ve={class:"-mt-4 text-sm text-muted-foreground"},he={key:0,class:"mt-2 text-sm font-medium text-green-600"},be={class:"flex items-center gap-4"},xe={class:"text-sm text-neutral-600"},We=f({__name:"Profile",props:{mustVerifyEmail:{type:Boolean},status:{}},setup(e){const n=[{title:"Profile settings",href:G().url}],a=F().props.auth.user;return(y,l)=>(p(),b(L,{breadcrumbs:n},{default:s(()=>[r(t(H),{title:"Profile settings"}),r(K,null,{default:s(()=>[u("div",fe,[r(P,{title:"Información de perfil",description:"Actualiza tu nombre y correo electrónico"}),r(t(D),g(t(I).update.form(),{class:"space-y-6"}),{default:s(({errors:_,processing:$,recentlySuccessful:A})=>[u("div",_e,[r(t(k),{for:"name"},{default:s(()=>[...l[0]||(l[0]=[d("Nombre",-1)])]),_:1}),r(t(q),{id:"name",class:"mt-1 block w-full",name:"name","default-value":t(a).name,required:"",autocomplete:"name",placeholder:"Nombre completo"},null,8,["default-value"]),r(C,{class:"mt-2",message:_.name},null,8,["message"])]),u("div",ge,[r(t(k),{for:"email"},{default:s(()=>[...l[1]||(l[1]=[d("Correo electrónico",-1)])]),_:1}),r(t(q),{id:"email",type:"email",class:"mt-1 block w-full",name:"email","default-value":t(a).email,required:"",autocomplete:"username",placeholder:"Correo electrónico"},null,8,["default-value"]),r(C,{class:"mt-2",message:_.email},null,8,["message"])]),e.mustVerifyEmail&&!t(a).email_verified_at?(p(),h("div",ye,[u("p",ve,[l[3]||(l[3]=d(" Tu correo electrónico no está verificado. ",-1)),r(t(j),{href:t(M)(),as:"button",class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500"},{default:s(()=>[...l[2]||(l[2]=[d(" Haz clic aquí para reenviar el correo de verificación. ",-1)])]),_:1},8,["href"])]),e.status==="verification-link-sent"?(p(),h("div",he," Un nuevo enlace de verificación ha sido enviado a tu correo electrónico . ")):Q("",!0)])):Q("",!0),u("div",be,[r(t(v),{disabled:$,"data-test":"update-profile-button"},{default:s(()=>[...l[4]||(l[4]=[d("Guardar",-1)])]),_:1},8,["disabled"]),r(R,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:s(()=>[S(u("p",xe," Guardado. ",512),[[U,A]])]),_:2},1024)])]),_:1},16)]),r(pe)]),_:1})]),_:1}))}});export{We as default};
