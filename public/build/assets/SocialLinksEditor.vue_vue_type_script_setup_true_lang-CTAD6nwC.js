import{d as E,r as k,A as M,c as N,L as D,M as I,e as c,k as t,f as o,x as y,l as $,t as p,j as i,p as f,g as e,F as S,s as C,m as n,z as R,n as q,v as G,K as A}from"./vendor-DvujMfno.js";import{u as K}from"./useSwal-DOVGsU6a.js";import{f as L,F as v,a as V,b as O,c as W,d as Y,e as H,g as J,h as Q,i as X,j as Z,k as ee,l as ae,m as se,n as te,o as oe,p as le,q as ie,r as re,s as ne,t as de,u as ce,v as fe,w as ue}from"./app-BHGT0x5Y.js";import{_ as T}from"./Input.vue_vue_type_script_setup_true_lang-DLAx-lS1.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-CVm8O6Ku.js";import{_ as g}from"./index-B2djCZPx.js";import{_ as me}from"./Checkbox.vue_vue_type_script_setup_true_lang-DG0naM3E.js";import{_ as pe,a as be,b as ge,c as ve}from"./DialogTitle.vue_vue_type_script_setup_true_lang-Cdo311c9.js";import{P as _e}from"./plus-CCPJT_Vh.js";import{T as he}from"./trash-2-BF1stzR1.js";const xe={class:"rounded-xl border bg-card p-6 space-y-4"},we={class:"flex items-center justify-between"},ke={class:"text-sm text-muted-foreground"},ye={key:0,class:"space-y-2"},$e={class:"flex-1 min-w-0"},Se={class:"font-medium truncate"},Ce={class:"text-xs text-muted-foreground truncate"},Ae={class:"flex items-center gap-2"},Le={key:1,class:"text-center py-8 text-muted-foreground"},Ve={class:"space-y-2"},Te={class:"grid grid-cols-4 gap-2"},Ue=["onClick"],ze={class:"text-[10px] truncate w-full text-center"},Be={class:"space-y-2"},Fe={class:"space-y-2"},Pe={class:"flex justify-end gap-3 pt-2"},We=E({__name:"SocialLinksEditor",props:{profile:{},platforms:{},maxLinks:{}},setup(d){const b=d,h=K(),u=k(!1),x=k(!1),l=M({platform:"",url:"",label:""}),U=N(()=>(b.profile.social_links?.length||0)<b.maxLinks);D(async()=>{x.value=!0,u.value=!1,await I()});const z={facebook:ue,instagram:fe,twitter:ce,tiktok:de,linkedin:ne,youtube:re,github:ie,whatsapp:le,telegram:oe,pinterest:te,snapchat:se,threads:ae,dribbble:ee,behance:Z,spotify:X,apple_music:Q,soundcloud:J,twitch:H,discord:Y,website:L,email:W,phone:O,other:V};function w(r){return z[r]||V}function B(){l.reset(),u.value=!0}function F(){l.post(`/admin/profiles/${b.profile.id}/social-links`,{preserveScroll:!0,onSuccess:()=>{u.value=!1,h.success("Â¡Red social agregada!")}})}async function P(r){await h.confirmDelete(r.label||b.platforms[r.platform]?.label)&&A.delete(`/admin/social-links/${r.id}`,{preserveScroll:!0})}function j(r){A.put(`/admin/social-links/${r.id}`,{...r,is_active:!r.is_active},{preserveScroll:!0})}return(r,a)=>(n(),c("div",xe,[t("div",we,[t("div",null,[a[4]||(a[4]=t("h3",{class:"font-semibold"},"Redes Sociales",-1)),t("p",ke,p(d.profile.social_links?.length||0)+"/"+p(d.maxLinks)+" redes ",1)]),U.value?(n(),y(e(g),{key:0,size:"sm",onClick:B,class:"gap-1"},{default:i(()=>[o(e(_e),{class:"h-4 w-4"}),a[5]||(a[5]=f(" Agregar ",-1))]),_:1})):$("",!0)]),d.profile.social_links?.length?(n(),c("div",ye,[(n(!0),c(S,null,C(d.profile.social_links,s=>(n(),c("div",{key:s.id,class:"flex items-center gap-3 rounded-lg border p-3 transition-all hover:bg-muted/50"},[t("div",{class:"flex h-10 w-10 items-center justify-center rounded-lg",style:G({backgroundColor:d.platforms[s.platform]?.color||"#6b7280"})},[o(e(v),{icon:w(s.platform),class:"h-5 w-5 text-white"},null,8,["icon"])],4),t("div",$e,[t("p",Se,p(s.label||d.platforms[s.platform]?.label||s.platform),1),t("p",Ce,p(s.url),1)]),t("div",Ae,[o(e(me),{checked:s.is_active,"onUpdate:checked":m=>j(s)},null,8,["checked","onUpdate:checked"]),o(e(g),{size:"icon",variant:"ghost",onClick:m=>P(s)},{default:i(()=>[o(e(he),{class:"h-4 w-4 text-destructive"})]),_:1},8,["onClick"])])]))),128))])):(n(),c("div",Le,[o(e(v),{icon:e(L),class:"h-12 w-12 mx-auto mb-3 opacity-50"},null,8,["icon"]),a[6]||(a[6]=t("p",null,"No hay redes sociales configuradas",-1))])),o(e(ve),{open:u.value,"onUpdate:open":a[3]||(a[3]=s=>u.value=s),modal:!0},{default:i(()=>[x.value?$("",!0):(n(),y(e(pe),{key:0,class:"max-w-md"},{default:i(()=>[o(e(be),null,{default:i(()=>[o(e(ge),null,{default:i(()=>[...a[7]||(a[7]=[f("Agregar Red Social",-1)])]),_:1})]),_:1}),t("form",{onSubmit:R(F,["prevent"]),class:"space-y-4"},[t("div",Ve,[o(e(_),null,{default:i(()=>[...a[8]||(a[8]=[f("Plataforma *",-1)])]),_:1}),t("div",Te,[(n(!0),c(S,null,C(d.platforms,(s,m)=>(n(),c("button",{key:m,type:"button",class:q(["flex flex-col items-center gap-1 rounded-lg border p-3 transition-all",e(l).platform===m?"border-primary bg-primary/5":"hover:bg-muted"]),onClick:je=>e(l).platform=m},[o(e(v),{icon:w(m),class:"h-5 w-5"},null,8,["icon"]),t("span",ze,p(s.label),1)],10,Ue))),128))])]),t("div",Be,[o(e(_),{for:"social-url"},{default:i(()=>[...a[9]||(a[9]=[f("URL / Enlace *",-1)])]),_:1}),o(e(T),{id:"social-url",modelValue:e(l).url,"onUpdate:modelValue":a[0]||(a[0]=s=>e(l).url=s),placeholder:e(l).platform==="whatsapp"?"https://wa.me/521...":"https://...",required:""},null,8,["modelValue","placeholder"])]),t("div",Fe,[o(e(_),{for:"social-label"},{default:i(()=>[...a[10]||(a[10]=[f("Etiqueta personalizada",-1)])]),_:1}),o(e(T),{id:"social-label",modelValue:e(l).label,"onUpdate:modelValue":a[1]||(a[1]=s=>e(l).label=s),placeholder:"Opcional"},null,8,["modelValue"])]),t("div",Pe,[o(e(g),{type:"button",variant:"outline",onClick:a[2]||(a[2]=s=>u.value=!1)},{default:i(()=>[...a[11]||(a[11]=[f(" Cancelar ",-1)])]),_:1}),o(e(g),{type:"submit",disabled:e(l).processing||!e(l).platform},{default:i(()=>[...a[12]||(a[12]=[f(" Agregar ",-1)])]),_:1},8,["disabled"])])],32)]),_:1}))]),_:1},8,["open"])]))}});export{We as _};
