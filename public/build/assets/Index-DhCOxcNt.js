import{B as g,a as z,b as C,c as $,d as x,E as j,_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-BrY3Mbxo.js";import{d as P,u as V,r as B,o as N,e as l,f as e,g as t,i as O,j as i,k as s,l as h,x as D,t as d,m as o,q as f,p as c,F as y,s as I,v as L,n as b,G as M}from"./vendor-CwJ9eRpz.js";import{u as S}from"./useSwal-DOVGsU6a.js";import{P as _}from"./plus-ggKBdC47.js";import{C as T}from"./circle-alert-B-UA-eer.js";import{c as A}from"./createLucideIcon-ColtdVoX.js";import{P as F}from"./pencil-GOH_MpO7.js";import{E as U}from"./eye-CMurwkyG.js";import{T as q}from"./trash-2-CHHS8M2q.js";import{U as G}from"./users-BOEnDdvz.js";import{P as H}from"./package-DtOv7Zct.js";import"./index-aHHv8Tf2.js";import"./VisuallyHidden-DI7LxRb7.js";import"./useForwardExpose-CraSWOVP.js";import"./PopperContent-BZm8OVWI.js";import"./getActiveElement-FUKBWQwh.js";import"./useSize-DPlu3iF4.js";import"./Presence-DPRxqr4Y.js";import"./Teleport-DJyIM2_Y.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./RovingFocusGroup-Bg8F_nie.js";import"./Collection-DW7XR1O_.js";import"./index-By14V8Wx.js";import"./DialogTitle-BN7VPbnW.js";import"./x-BzXzP8xs.js";import"./DialogDescription-BEVBDaXg.js";import"./layout-grid-xuEGYM1Q.js";import"./credit-card-mbP66do9.js";import"./chevron-right-CIYxK5Th.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=A("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),K={class:"flex-1 space-y-6 p-4 md:p-6"},Q={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},R={class:"text-muted-foreground"},W={key:0,class:"flex items-center gap-4 rounded-xl border border-amber-200 bg-amber-50 p-4 dark:border-amber-900 dark:bg-amber-950/50"},X={key:1,class:"flex flex-col items-center justify-center rounded-xl border-2 border-dashed bg-muted/50 p-16 text-center"},Y={class:"flex h-20 w-20 items-center justify-center rounded-full bg-cyan-100 dark:bg-cyan-900"},Z={key:2,class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3"},ee={class:"relative h-32 overflow-hidden rounded-t-xl bg-gradient-to-br from-cyan-500/20 to-cyan-600/20"},te=["src","alt"],ae={key:1,class:"flex h-full items-center justify-center"},se=["href"],re={class:"font-semibold truncate"},ie={class:"mt-1 text-sm text-muted-foreground truncate"},oe={class:"mt-4 flex items-center gap-4 text-sm text-muted-foreground"},ne={class:"flex items-center gap-1.5"},le={class:"flex items-center gap-1.5"},ce={class:"ml-auto flex items-center gap-1"},Ae=P({__name:"Index",props:{organizations:{},canCreate:{type:Boolean},limits:{}},setup(m){const v=V(),u=S(),p=B(!1);async function k(n){await u.confirmDelete(n.name)&&M.delete(`/admin/organizations/${n.id}`,{preserveScroll:!0})}return N(()=>{setTimeout(()=>p.value=!0,100);const n=v.props.flash;n?.success&&u.success(n.success),n?.error&&u.error(n.error)}),(n,a)=>(o(),l(y,null,[e(t(O),{title:"Mis Organizaciones"}),e(E,{breadcrumbs:[{title:"Dashboard",href:"/admin"},{title:"Organizaciones",href:"/admin/organizations"}]},{default:i(()=>[s("div",K,[s("div",Q,[s("div",null,[a[0]||(a[0]=s("h1",{class:"text-2xl font-bold"},"Mis Organizaciones",-1)),s("p",R,d(m.limits.current)+" de "+d(m.limits.max)+" organizaciones ",1)]),m.canCreate?(o(),D(t(f),{key:0,href:"/admin/organizations/create",class:"inline-flex items-center justify-center gap-2 rounded-lg bg-primary px-4 py-2.5 text-sm font-medium text-primary-foreground hover:bg-primary/90"},{default:i(()=>[e(t(_),{class:"h-4 w-4"}),a[1]||(a[1]=c(" Nueva Organización ",-1))]),_:1})):h("",!0)]),m.canCreate?h("",!0):(o(),l("div",W,[e(t(T),{class:"h-5 w-5 text-amber-600"}),a[3]||(a[3]=s("div",{class:"flex-1"},[s("p",{class:"font-medium text-amber-800 dark:text-amber-200"}," Has alcanzado el límite de organizaciones "),s("p",{class:"text-sm text-amber-600 dark:text-amber-400"}," Mejora tu plan para crear más organizaciones. ")],-1)),e(t(f),{href:"/admin/plans",class:"rounded-lg bg-amber-500 px-4 py-2 text-sm font-medium text-white hover:bg-amber-600"},{default:i(()=>[...a[2]||(a[2]=[c(" Ver Planes ",-1)])]),_:1})])),m.organizations.length===0?(o(),l("div",X,[s("div",Y,[e(t(g),{class:"h-10 w-10 text-cyan-600 dark:text-cyan-400"})]),a[5]||(a[5]=s("h3",{class:"mt-6 text-xl font-semibold"},"No tienes organizaciones",-1)),a[6]||(a[6]=s("p",{class:"mt-2 max-w-md text-muted-foreground"}," Crea tu primera organización para comenzar a construir tu presencia digital. ",-1)),e(t(f),{href:"/admin/organizations/create",class:"mt-6 inline-flex items-center gap-2 rounded-lg bg-primary px-6 py-3 font-medium text-primary-foreground hover:bg-primary/90"},{default:i(()=>[e(t(_),{class:"h-5 w-5"}),a[4]||(a[4]=c(" Crear mi primera organización ",-1))]),_:1})])):(o(),l("div",Z,[(o(!0),l(y,null,I(m.organizations,(r,w)=>(o(),l("div",{key:r.id,class:b(["group relative rounded-xl border bg-card transition-all hover:border-primary/50 hover:shadow-lg",{"opacity-0 translate-y-4":!p.value,"opacity-100 translate-y-0":p.value}]),style:L({transitionDelay:`${w*.05}s`})},[s("div",ee,[r.logo?(o(),l("img",{key:0,src:`/storage/${r.logo}`,alt:r.name,class:"h-full w-full object-cover"},null,8,te)):(o(),l("div",ae,[e(t(g),{class:"h-16 w-16 text-cyan-500/50"})])),s("span",{class:b(["absolute left-3 top-3 rounded-full px-2.5 py-1 text-xs font-medium",r.is_active?"bg-emerald-500 text-white":"bg-gray-500 text-white"])},d(r.is_active?"Activo":"Inactivo"),3),e(t(z),null,{default:i(()=>[e(t(C),{class:"absolute right-3 top-3 flex h-8 w-8 items-center justify-center rounded-full bg-white/90 text-gray-600 opacity-0 transition-opacity group-hover:opacity-100 hover:bg-white"},{default:i(()=>[e(t(J),{class:"h-4 w-4"})]),_:1}),e(t($),{align:"end"},{default:i(()=>[e(t(x),{"as-child":""},{default:i(()=>[e(t(f),{href:`/admin/organizations/${r.id}/edit`,class:"flex items-center gap-2"},{default:i(()=>[e(t(F),{class:"h-4 w-4"}),a[7]||(a[7]=c(" Editar ",-1))]),_:1},8,["href"])]),_:2},1024),e(t(x),{"as-child":""},{default:i(()=>[s("a",{href:`/${r.slug}`,target:"_blank",class:"flex items-center gap-2"},[e(t(U),{class:"h-4 w-4"}),a[8]||(a[8]=c(" Ver Organización ",-1))],8,se)]),_:2},1024),e(t(x),{class:"flex items-center gap-2 text-destructive focus:text-destructive",onClick:de=>k(r)},{default:i(()=>[e(t(q),{class:"h-4 w-4"}),a[9]||(a[9]=c(" Eliminar ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),e(t(f),{href:`/admin/organizations/${r.id}/edit`,class:"block p-4"},{default:i(()=>[s("h3",re,d(r.name),1),s("p",ie," conectlink.cnva.mx/"+d(r.slug),1),s("div",oe,[s("span",ne,[e(t(G),{class:"h-4 w-4"}),c(" "+d(r.profiles_count),1)]),s("span",le,[e(t(H),{class:"h-4 w-4"}),c(" "+d(r.products_count),1)]),s("span",ce,[e(t(j),{class:"h-3.5 w-3.5"})])])]),_:2},1032,["href"])],6))),128))]))])]),_:1})],64))}});export{Ae as default};
